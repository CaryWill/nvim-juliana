--# selene: allow(unscoped_variables)
--# selene: allow(undefined_variable)
local M = {}

local highlights = {
    -- content here will not be touched
    -- PATCH_OPEN
    Normal = { fg = '#CBD3E2', bg = '#293038' },
    Character = { fg = '#99C794' },
    String = { link = 'Character' },
    ColorColumn = { fg = '#CBD3E2', bg = '#293038' },
    Comment = { italic = true, fg = '#728292' },
    Conceal = { fg = '#5A6B8C' },
    Conditional = { fg = '#C695C6' },
    Constant = { fg = '#C695C6' },
    Boolean = { link = 'Constant' },
    CursorColumn = { link = 'CursorLine' },
    Delimiter = { fg = '#6699CC' },
    TSPunctDelimiter = { link = 'Delimiter' },
    DiagnosticError = { fg = '#EC5F66' },
    DiagnosticHint = { fg = '#FAC761' },
    DiagnosticInfo = { fg = '#5FB4B4' },
    DiagnosticUnderlineError = { sp = '#EC5F66', underdot = true },
    DiagnosticUnderlineHint = { sp = '#D8DEE9', underdot = true },
    DiagnosticUnderlineInfo = { sp = '#5FB4B4', underdot = true },
    DiagnosticUnderlineWarn = { sp = '#F9AE58', underdot = true },
    DiagnosticWarn = { fg = '#F9AE58' },
    DiffAdd = { fg = '#5FB485' },
    DiffChange = { fg = '#F69323' },
    DiffDelete = { fg = '#EC5F66' },
    Directory = { underdot = true },
    EndOfBuffer = { fg = '#293038' },
    Error = { fg = '#F97B58' },
    ErrorMsg = { fg = '#EC5F66' },
    WarningMsg = { link = 'ErrorMsg' },
    Exception = { fg = '#C695C6' },
    FoldColumn = { fg = '#CBD3E2', bg = '#293038' },
    Folded = { sp = '#647382', underdash = true },
    Function = { fg = '#6699CC' },
    TSMethod = { link = 'Function' },
    Identifier = { fg = '#CBD3E2', bg = '#293038' },
    Include = { fg = '#7D99B5' },
    PreCondit = { link = 'Include' },
    Keyword = { fg = '#C695C6' },
    Label = { fg = '#C695C6' },
    CursorLineNr = { link = 'LineNr' },
    LineNrAbove = { fg = '#A6ACB9' },
    LineNrBelow = { fg = '#A6ACB9' },
    Macro = { fg = '#8DADE7' },
    Define = { link = 'Macro' },
    MatchParen = { bold = true },
    ModeMsg = { fg = '#DEE1E8' },
    MoreMsg = { bold = true, fg = '#DEE1E8' },
    Question = { link = 'MoreMsg' },
    NonText = { fg = '#5A6B8C' },
    NormalFloat = { bg = '#252B32' },
    Pmenu = { link = 'NormalFloat' },
    Number = { fg = '#F9AE58' },
    Float = { link = 'Number' },
    Operator = { fg = '#F97B58' },
    TSOperator = { link = 'Operator' },
    WildMenu = { link = 'Pmenu' },
    PmenuSbar = { fg = '#CBD3E2', bg = '#293038' },
    PmenuSel = { bg = '#252B32', bold = true },
    PmenuThumb = { bg = '#58657E' },
    PreProc = { fg = '#A7B4CD' },
    Repeat = { fg = '#C695C6' },
    Search = { fg = '#FFFFFF', bg = '#3B454F', bold = true },
    IncSearch = { link = 'Search' },
    Sneak = { link = 'Search' },
    SneakLabel = { link = 'Search' },
    SignColumn = { fg = '#CBD3E2', bg = '#293038' },
    Special = { fg = '#5FB4B4' },
    SpecialChar = { fg = '#5FB485' },
    SpecialComment = { underline = true, fg = '#728292' },
    SpecialKey = { fg = '#48CBCB' },
    SpellBad = { sp = '#EC5F66', undercurl = true },
    SpellCap = { sp = '#F9AE58', undercurl = true },
    SpellLocal = { sp = '#48CBCB', undercurl = true },
    SpellRare = { sp = '#C695C6', undercurl = true },
    Statement = { fg = '#C695C6' },
    StatusLine = { fg = '#CBD3E2', bg = '#3B454F' },
    StatusLineNC = { fg = '#CBD3E2', bg = '#293038' },
    StorageClass = { fg = '#EC5F66' },
    Structure = { fg = '#C695C6' },
    Typedef = { link = 'Structure' },
    TSConstBuiltin = { fg = '#CFCBE2' },
    TSConstant = { italic = true, fg = '#CBD3E2' },
    TSDanger = { bold = true, fg = '#EC5F66' },
    TSEmphasis = { italic = true, bold = true },
    TSError = { fg = '#CBD3E2' },
    TSField = { fg = '#C695C6' },
    TSInclude = { fg = '#C695C6' },
    TSKeyword = { italic = true, fg = '#C695C6' },
    TSKeywordFunction = { italic = true, fg = '#C695C6' },
    TSKeywordOperator = { fg = '#C695C6' },
    TSKeywordReturn = { fg = '#C695C6' },
    TSLabel = { fg = '#89BDBA' },
    yamlTSField = { link = 'TSLabel' },
    TSNote = { bold = true, fg = '#99C794' },
    TSParameter = { fg = '#F9AE58' },
    TSPunctBracket = { fg = '#CBD3E2' },
    TSPunctSpecial = { fg = '#66B6CC' },
    TSStringEscape = { fg = '#94A2C7' },
    TSStringRegex = { fg = '#94BCC7' },
    TSStrong = { bold = true },
    TSSymbol = { fg = '#83B7BE' },
    TSText = { fg = '#CBD3E2' },
    TSTitle = { bold = true, fg = '#CBD3E2' },
    TSType = { italic = true, fg = '#C695C6' },
    TSTypeBuiltin = { italic = true, fg = '#6699CC' },
    TSUnderline = { underline = true },
    TSVariable = { fg = '#CBD3E2' },
    TSNamespace = { link = 'TSVariable' },
    TSProperty = { link = 'TSVariable' },
    TSVariableBuiltin = { fg = '#DE6E73' },
    TSWarning = { bold = true, fg = '#F9AE58' },
    TabLine = { fg = '#CBD3E2', bg = '#293038' },
    TabLineFill = { fg = '#CBD3E2', bg = '#293038' },
    TabLineSel = { fg = '#CBD3E2', bg = '#293038' },
    Tag = { fg = '#EC5F66' },
    Title = { fg = '#C695C6' },
    Todo = { bold = true, fg = '#6699CC' },
    Type = { italic = true, fg = '#C695C6' },
    Underlined = { underdot = true },
    VertSplit = { fg = '#4E5A65' },
    Visual = { bg = '#3B454F' },
    CursorLine = { link = 'Visual' },
    LineNr = { link = 'Visual' },
    Substitute = { link = 'Visual' },
    Whitespace = { fg = '#5C75A3' },
    Winseparator = { fg = '#4E5A65' },
    gitCommitSelectedFile = { italic = true },
    gitCommitSummary = { bold = true },
    gitCommitTrailerToken = { italic = true, fg = '#C695C6' },
    luaTSField = { fg = '#97B2D3' },
    typescriptTSKeyword = { fg = '#EC5F66' },
    -- PATCH_CLOSE
    -- content here will not be touched
}

local function set_hl(colors)
    for group, attrs in pairs(colors) do
        vim.api.nvim_set_hl(0, group, attrs)
    end
end

function M.load()
    if vim.g.colors_name then
        vim.cmd('hi clear')
    end
    vim.cmd('highlight clear')
    vim.cmd('set t_Co=256')
    vim.cmd("let g:colors_name='sublime-mariana'")

    set_hl(highlights)
end

return M
